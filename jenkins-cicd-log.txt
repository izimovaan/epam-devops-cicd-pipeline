Started by user Aikorkem Izimova
Replayed #9
[Pipeline] Start of Pipeline
[Pipeline] node
Running on Jenkins in /var/lib/jenkins/workspace/cicd-local-test
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/cicd-local-test/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/izimovaan/epam-devops-cicd-pipeline.git # timeout=10
Fetching upstream changes from https://github.com/izimovaan/epam-devops-cicd-pipeline.git
 > git --version # timeout=10
 > git --version # 'git version 2.39.5'
 > git fetch --tags --force --progress -- https://github.com/izimovaan/epam-devops-cicd-pipeline.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision d0b824b997bd7c1d52dd10bb26c8df4eda55f624 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f d0b824b997bd7c1d52dd10bb26c8df4eda55f624 # timeout=10
Commit message: "change node version to arm-compatible"
 > git rev-list --no-walk d0b824b997bd7c1d52dd10bb26c8df4eda55f624 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (activity 1: checkout)
[Pipeline] checkout
Selected Git installation does not exist. Using Default
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /var/lib/jenkins/workspace/cicd-local-test/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/izimovaan/epam-devops-cicd-pipeline.git # timeout=10
Fetching upstream changes from https://github.com/izimovaan/epam-devops-cicd-pipeline.git
 > git --version # timeout=10
 > git --version # 'git version 2.39.5'
 > git fetch --tags --force --progress -- https://github.com/izimovaan/epam-devops-cicd-pipeline.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision d0b824b997bd7c1d52dd10bb26c8df4eda55f624 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f d0b824b997bd7c1d52dd10bb26c8df4eda55f624 # timeout=10
Commit message: "change node version to arm-compatible"
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (activity 2: build)
[Pipeline] echo
building app
[Pipeline] sh
+ chmod +x scripts/build.sh
[Pipeline] sh
+ ./scripts/build.sh

up to date, audited 1394 packages in 14s

114 packages are looking for funding
  run `npm fund` for details

154 vulnerabilities (3 low, 67 moderate, 39 high, 45 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (activity 3: test)
[Pipeline] echo
running tests
[Pipeline] sh
+ chmod +x scripts/test.sh
[Pipeline] sh
+ ./scripts/test.sh
The following "npm" command (if executed) installs the "cross-env"
dependency into the local "node_modules" directory, which will ultimately
be stored in the Jenkins home directory. As described in
https://docs.npmjs.com/cli/install, the "--save-dev" flag causes the
"cross-env" dependency to be installed as "devDependencies". For the
purposes of this tutorial, this flag is not important. However, when
installing this dependency, it would typically be done so using this
flag. For a comprehensive explanation about "devDependencies", see
https://stackoverflow.com/questions/18875674/whats-the-difference-between-dependencies-devdependencies-and-peerdependencies.
+ set +x
The following "npm" command tests that your simple Node.js/React
application renders satisfactorily. This command actually invokes the test
runner Jest (https://facebook.github.io/jest/).
+ npm test

> my-app@0.1.0 test
> react-scripts test --env=jsdom

 PASS  src/App.test.js
  âœ“ renders without crashing (11ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        0.513s, estimated 1s
Ran all test suites.
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (activity 4: build docker image)
[Pipeline] script
[Pipeline] {
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker build -t izimova/jenkins-nodejs-build .
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 121B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:lts-slim
#2 DONE 0.8s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/4] FROM docker.io/library/node:lts-slim@sha256:04d9cbb7297edb843581b9bb9bbed6d7efb459447d5b6ade8d8ef988e6737804
#4 resolve docker.io/library/node:lts-slim@sha256:04d9cbb7297edb843581b9bb9bbed6d7efb459447d5b6ade8d8ef988e6737804 0.0s done
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 2.93MB 0.5s done
#5 DONE 0.5s

#6 [2/4] WORKDIR /opt
#6 CACHED

#7 [3/4] ADD . /opt
#7 DONE 5.0s

#8 [4/4] RUN npm install
#8 10.30 
#8 10.30 up to date, audited 1394 packages in 10s
#8 10.30 
#8 10.30 114 packages are looking for funding
#8 10.30   run `npm fund` for details
#8 10.39 
#8 10.39 154 vulnerabilities (3 low, 67 moderate, 39 high, 45 critical)
#8 10.39 
#8 10.39 To address issues that do not require attention, run:
#8 10.39   npm audit fix
#8 10.39 
#8 10.39 To address all issues (including breaking changes), run:
#8 10.39   npm audit fix --force
#8 10.39 
#8 10.39 Run `npm audit` for details.
#8 10.39 npm notice
#8 10.39 npm notice New minor version of npm available! 11.6.2 -> 11.7.0
#8 10.39 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.7.0
#8 10.39 npm notice To update run: npm install -g npm@11.7.0
#8 10.39 npm notice
#8 DONE 10.5s

#9 exporting to image
#9 exporting layers
#9 exporting layers 5.5s done
#9 exporting manifest sha256:0f3a4bdd422f24cd26750792ab6d78064b8fa9132dd8ebc54973f3984e27db82 done
#9 exporting config sha256:13dcca9eb0ec91ff14f0e94f37f5aadf75b2a15e88f4990ca31a7784118ca8dd done
#9 exporting attestation manifest sha256:fa991320037f2912b580447ada921f155582e4004afe54a97aef893ff604b272 done
#9 exporting manifest list sha256:7cd7e43b95055d86ac322ee2c08447bab53ab6a46d2b3b512973cbb0671a02db done
#9 naming to docker.io/izimova/jenkins-nodejs-build:latest done
#9 unpacking to docker.io/izimova/jenkins-nodejs-build:latest
#9 unpacking to docker.io/izimova/jenkins-nodejs-build:latest 2.1s done
#9 DONE 7.6s

 [33m1 warning found (use docker --debug to expand):
[0m - JSONArgsRecommended: JSON arguments recommended for ENTRYPOINT to prevent unintended behavior related to OS signals (line 5)
[Pipeline] }
[Pipeline] // withEnv
Did you forget the `def` keyword? WorkflowScript seems to be setting a field named app (to a value of type Image) which could lead to memory leaks or other issues.
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (activity 5: push docker image)
[Pipeline] script
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withDockerRegistry
$ docker login -u izimova -p ******** https://registry.hub.docker.com
WARNING! Using --password via the CLI is insecure. Use --password-stdin.

WARNING! Your credentials are stored unencrypted in '/var/lib/jenkins/workspace/cicd-local-test@tmp/b8e0a747-572a-4988-8442-c2e429d91223/config.json'.
Configure a credential helper to remove this warning. See
https://docs.docker.com/go/credential-store/

Login Succeeded
[Pipeline] {
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker tag izimova/jenkins-nodejs-build registry.hub.docker.com/izimova/jenkins-nodejs-build:10
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker push registry.hub.docker.com/izimova/jenkins-nodejs-build:10
The push refers to repository [registry.hub.docker.com/izimova/jenkins-nodejs-build]
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
3ab1e89c9574: Waiting
4f4fb700ef54: Waiting
3ab1e89c9574: Layer already exists
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
749d73a7aef7: Layer already exists
78007e3d99d6: Waiting
cc742fcea567: Waiting
8a4a7306158c: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
be6b14fb2e89: Waiting
8a4a7306158c: Layer already exists
55cab2db20a9: Waiting
2ac6aac13696: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
cc742fcea567: Waiting
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
2ac6aac13696: Layer already exists
78007e3d99d6: Waiting
cc742fcea567: Layer already exists
4f4fb700ef54: Waiting
be6b14fb2e89: Waiting
78007e3d99d6: Waiting
4f4fb700ef54: Layer already exists
78007e3d99d6: Waiting
be6b14fb2e89: Waiting
be6b14fb2e89: Waiting
78007e3d99d6: Waiting
be6b14fb2e89: Pushed
55cab2db20a9: Pushed
78007e3d99d6: Pushed
10: digest: sha256:7cd7e43b95055d86ac322ee2c08447bab53ab6a46d2b3b512973cbb0671a02db size: 856
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker tag izimova/jenkins-nodejs-build registry.hub.docker.com/izimova/jenkins-nodejs-build:latest
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker push registry.hub.docker.com/izimova/jenkins-nodejs-build:latest
The push refers to repository [registry.hub.docker.com/izimova/jenkins-nodejs-build]
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
be6b14fb2e89: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
be6b14fb2e89: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
be6b14fb2e89: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
be6b14fb2e89: Already exists
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
3ab1e89c9574: Waiting
749d73a7aef7: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
3ab1e89c9574: Layer already exists
749d73a7aef7: Layer already exists
2ac6aac13696: Waiting
cc742fcea567: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
4f4fb700ef54: Waiting
78007e3d99d6: Waiting
2ac6aac13696: Waiting
cc742fcea567: Waiting
55cab2db20a9: Waiting
8a4a7306158c: Waiting
cc742fcea567: Layer already exists
55cab2db20a9: Layer already exists
8a4a7306158c: Layer already exists
4f4fb700ef54: Layer already exists
78007e3d99d6: Layer already exists
2ac6aac13696: Layer already exists
latest: digest: sha256:7cd7e43b95055d86ac322ee2c08447bab53ab6a46d2b3b512973cbb0671a02db size: 856
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withDockerRegistry
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // script
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS
